---
name: data-zhihu
description: "通过 Browser RPA 拉取知乎创作者数据"
user-invocable: false
metadata: {"openclaw":{"requires":{"config":["browser.enabled"]}}}
---

# 知乎数据拉取 RPA Skill

## 概述
通过浏览器自动化操作知乎创作者中心 (https://www.zhihu.com/creator)，提取文章、回答、视频的互动和粉丝数据。

> **参考**: MediaCrawler 项目 (NanmiCoder/MediaCrawler) 中的知乎数据抓取逻辑。

## 前置条件
- Browser Profile `zhihu` 已创建且已登录

## RPA 操作步骤

### 1. 检查登录
profile=zhihu，导航到 `https://www.zhihu.com/creator`。
执行 `browser snapshot` 检查登录态。
如果出现 "登录" → 中断，通知创作者。

### 2. 提取账号概览
执行 `browser snapshot`，提取创作者中心数据：
- 总关注者数 / 新增关注者
- 总获赞数
- 总浏览量（近7日/近30日）
- 内容创作数（文章+回答+视频）

### 3. 提取内容数据
导航到创作者中心「内容数据」，提取近期内容：
- 内容标题
- 内容类型（文章/回答/视频）
- 阅读量 / 播放量
- 赞同数
- 评论数
- 收藏数
- 分享数
- 发布时间

### 4. 提取搜索排名（可选）
知乎内容有很强的搜索属性，如可获取：
- 热门回答排名
- 搜索关键词来源

### 5. 提取粉丝画像（可选）
如有粉丝分析，提取：
- 行业分布
- 关注来源

### 6. 保存数据快照
保存到 `workspace/data/zhihu-YYYY-MM-DD.md`：
```markdown
# 知乎数据快照 - <日期>

## 账号概览
- 总关注者: xxx
- 新增关注者 (7日): +xxx
- 总获赞: xxx
- 总浏览 (7日): xxx

## 近期内容
| 标题 | 类型 | 阅读/播放 | 赞同 | 评论 | 收藏 | 发布时间 |
|------|------|-----------|------|------|------|----------|
| ...  | 文章 | ...       | ...  | ...  | ...  | ...      |
| ...  | 回答 | ...       | ...  | ...  | ...  | ...      |
```

### 7. 返回数据摘要

## 特殊说明
- 知乎内容有极长的长尾效应，关注历史数据趋势比短期数据更有价值
- 回答的数据通常比独立文章好，注意区分类型分析

## 反爬策略
> 参考: MediaCrawler 项目 (NanmiCoder/MediaCrawler) 的反爬经验

知乎反爬中等：
- **操作间隔**：每次操作间等待 1.5-2.5 秒
- **翻页间隔**：翻页后等待 2-3 秒（随机）
- **SPA 特性**：知乎为 SPA，部分数据异步加载，需等待渲染
- **创作者中心数据**：通过创作者后台获取，相对稳定

## 异常处理
- 未登录 → 中断，提示 /login zhihu
- 数据页面加载慢 → 等待 15 秒后重试
- 反爬验证码 → 截图 + 通知创作者手动处理（通过 VNC）
- 页面结构变化 → 截图 + 通知
