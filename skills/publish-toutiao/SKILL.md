---
name: publish-toutiao
description: "通过 Browser RPA 将图文/视频发布到今日头条"
user-invocable: false
metadata: {"openclaw":{"requires":{"config":["browser.enabled"]}}}
---

# 头条号发布 RPA Skill

## 概述
通过浏览器自动化操作头条号后台 (https://mp.toutiao.com)，完成文章或视频发布。
头条号是今日头条的创作者平台，支持图文和视频内容。

> **参考**: social-auto-upload 项目中的头条/百家号上传逻辑。

## 前置条件
- Browser Profile `toutiao` 已创建且已登录
- 已有适配后的内容

## 输入
- `title`: 标题（≤30 字）
- `content`: 正文内容（文章类）
- `content_type`: "text"（图文）或 "video"
- `video_path`: 视频文件路径（视频类）
- `cover_path`: 封面图路径（可选）
- `tags`: 标签列表（≤10 个）

## RPA 操作步骤

### 1. Preflight 检查
profile=toutiao，导航到头条号后台，检查登录态。
未登录 → 中断，提示 /login toutiao。

### 2. 进入发布页面
- 文章：导航到 `https://mp.toutiao.com/profile_v4/graphic/publish`
- 视频：导航到 `https://mp.toutiao.com/profile_v4/xigua/upload`

### 3a. 发布文章
- 填入标题
- 在富文本编辑器中填入正文内容
- 支持插入图片、视频嵌入
- 设置封面图（可选择从文章图片中选择或上传自定义）

### 3b. 上传视频
- 使用 `browser upload` 上传视频文件
- 等待上传和转码完成
- **进度反馈**：每 30 秒通知上传进度
- 填入标题和描述

### 4. 添加标签
- 在标签区域输入关键词
- 选择系统推荐的标签
- 标签关系到推荐流量分配

### 5. 选择分类
- 根据内容选择合适的分类（科技、娱乐、教育等）

### 6. 设置发布选项
- 原创声明（如是原创内容，勾选原创）
- 投稿到头条号（默认）
- 可选同步到西瓜视频（视频类）

### 7. 预览确认
截图 → 发送给创作者确认。

### 8. 发布
创作者确认后点击「发布」按钮，等待完成。

### 9. 验证 + 记录
检查成功提示，截图结果，写入发布日志。

## 头条号特殊说明
- 头条号推荐算法非常强大，标题关键词影响推荐量
- 原创声明可获得更高收益和推荐权重
- 视频可同步发布到西瓜视频，获得额外流量
- 千次阅读收益 1.2-8 元，优质内容收益更高

## 异常处理
- 审核不通过 → 截图通知，可能需要修改内容
- 视频转码失败 → 检查格式，提示转码
- 频率限制 → 通知创作者稍后发布
