---
name: cancel-operation
description: "取消当前正在进行的操作"
user-invocable: true
metadata: {"openclaw":{"always":true}}
---

# 取消当前操作

## 用途
当创作者执行 `/cancel` 或说「取消」「停止」时，中断当前正在进行的操作。

## 支持取消的操作类型

### 1. AI 工具内容生成
如果正在等待 ChatGPT / Claude 等工具生成内容：
- 停止轮询浏览器 snapshot
- 不提取部分结果（未完成的内容质量不可靠）
- 通知创作者：`已取消生成。草稿未保存。`

### 2. 视频生成
如果正在等待 NotebookLM 等工具生成视频：
- 停止轮询
- 注意：工具端的生成可能无法中断（已提交的任务会继续），但不再等待结果
- 通知创作者：`已停止等待视频生成。工具端可能仍在处理，你可以稍后通过 VNC 手动查看。`

### 3. 多平台发布
如果正在并行发布到多个平台（Sub-Agents）：
- 尝试终止尚未开始发布的 Sub-Agent
- 已经开始的平台发布让其完成（半途中断可能导致不一致）
- 通知创作者：
  ```
  已取消后续发布。
  已完成: 公众号 ✅, 小红书 ✅
  已取消: B站, YouTube
  ```

### 4. 数据拉取
如果正在拉取平台数据：
- 停止后续平台的拉取
- 返回已拉取到的部分数据
- 通知创作者：`已中断数据拉取。已获取 3/6 个平台数据。`

### 5. 内容适配
如果正在进行平台格式适配：
- 中断后续平台的适配
- 保留已完成的适配版本

## 操作步骤

### 1. 识别当前操作
检查当前会话中是否有进行中的操作：
- 活跃的 browser 轮询
- 活跃的 Sub-Agents
- 等待用户确认的暂停态（此时 /cancel 直接退出流程）

### 2. 执行取消
根据操作类型执行相应的取消逻辑。

### 3. 清理
- 关闭不再需要的浏览器标签
- 不删除已保存的草稿/适配内容（创作者可能还需要）

### 4. 确认
```
✅ 操作已取消。

你可以：
- 重新开始：重复之前的指令
- 做其他事：直接告诉我
```

## 无操作时
如果没有正在进行的操作：
```
当前没有进行中的操作。需要帮你做什么？
```
